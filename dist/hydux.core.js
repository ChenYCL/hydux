!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.core=e():(t.hydux=t.hydux||{},t.hydux.core=e())}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e,n){"use strict";function r(t,e){function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]]);return n}function i(t,e,n,r){var o,i=arguments.length,u=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(u=(i<3?o(u):i>3?o(e,n,u):o(e,n))||u);return i>3&&u&&Object.defineProperty(e,n,u),u}function u(t,e){return function(n,r){e(n,r,t)}}function a(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,a)}c((r=r.apply(t,e||[])).next())})}function s(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(u=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(i,n[1])).done)return u;switch(i=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,i=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(u=c.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){c.label=n[1];break}if(6===n[0]&&c.label<u[1]){c.label=u[1],u=n;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(n);break}u[2]&&c.ops.pop(),c.trys.pop();continue}n=e.call(t,c)}catch(t){n=[6,t],i=0}finally{o=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,u,a,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function l(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}function p(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function y(t,e,n){function r(t){l[t]&&(s[t]=function(e){return new Promise(function(n,r){f.push([t,e,n,r])>1||o(t,e)})})}function o(t,e){try{i(l[t](e))}catch(t){c(f[0][3],t)}}function i(t){t.value instanceof v?Promise.resolve(t.value.v).then(u,a):c(f[0][2],t)}function u(t){o("next",t)}function a(t){o("throw",t)}function c(t,e){t(e),f.shift(),f.length&&o(f[0][0],f[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,l=n.apply(t,e||[]),f=[];return s={},r("next"),r("throw"),r("return"),s[Symbol.asyncIterator]=function(){return this},s}function d(t){function e(e,o){t[e]&&(n[e]=function(n){return(r=!r)?{value:v(t[e](n)),done:"return"===e}:o?o(n):n})}var n,r;return n={},e("next"),e("throw",function(t){throw t}),e("return"),n[Symbol.iterator]=function(){return this},n}function g(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):"function"==typeof f?f(t):t[Symbol.iterator]()}function m(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=r,n.d(e,"__assign",function(){return w}),e.__rest=o,e.__decorate=i,e.__param=u,e.__metadata=a,e.__awaiter=c,e.__generator=s,e.__exportStar=l,e.__values=f,e.__read=h,e.__spread=p,e.__await=v,e.__asyncGenerator=y,e.__asyncDelegator=d,e.__asyncValues=g,e.__makeTemplateObject=m;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},w=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}},function(t,e,n){"use strict";(function(t){function n(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var o=n[r];t[o]=e[o]}return t}function r(t,r){return n(n(e.isPojo(t)?{}:new t.constructor,t),r)}function o(t){return n(e.isPojo(t)?{}:new t.constructor,t)}function i(t,r,o){if(0===t.length)return r;var i=e.isPojo(o)?{}:new o.constructor,u=i,a=o,c=t.length-1;n(u,a);for(var s=0;s<c;s++){var l=t[s];u=u[l],a=a[l],n(u,a)}return u[t[c]]=r,i}function u(t,e,n){for(var r=n,o=0;o<t.length-1;o++)r=r[t[o]];return r[t[t.length-1]]=e,n}function a(t,e,n){void 0===n&&(n=t.length);for(var r=0;r<n;r++)e=e[t[r]];return e}function c(t){return"function"==typeof t}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){return void 0!==t&&null!==t};e.isPojo=function(t){return!s(t.constructor)||t.constructor===Object},e.isDev=void 0!==t&&!1,e.debug=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.isDev&&console.log.apply(console,["[hydux-"+t+"]"].concat(n))},e.set=n,e.merge=r,e.clone=o,e.setDeep=i,e.setDeepMutable=u,e.get=a,e.isFn=c,e.noop=function(t){return t}}).call(e,n(2))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function u(){y&&p&&(y=!1,p.length?v=p.concat(v):d=-1,v.length&&a())}function a(){if(!y){var t=o(u);y=!0;for(var e=v.length;e;){for(p=v,v=[];++d<e;)p&&p[d].run();d=-1,e=v.length}p=null,y=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function s(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,v=[],y=!1,d=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new c(t,e)),1!==v.length||y||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=s,h.addListener=s,h.once=s,h.off=s,h.removeListener=s,h.removeAllListeners=s,h.emit=s,h.prependListener=s,h.prependOnceListener=s,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t,e,n,r){if(!t)return[];i.isFn(e)&&(r=n,n=e,e=void 0);var o=function(){var r=t(e);return n&&n(r),r};return[function(t){if(!r)return o();try{return o()}catch(t){console.error(t),r(t)}}]}function o(t,e,n,r){return t?(i.isFn(e)&&(r=n,n=e,e=void 0),[function(o){return t(e).then(function(t){try{n&&n(t)}catch(t){console.error(t)}}).catch(r)}]):[]}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1);e.ofFn=r,e.ofPromise=o,e.ofSub=function(t){return[t]};var u=Array.prototype.concat;e.batch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return u.apply([],u.apply([],t))},e.map=function(t,e){return e.map(function(e){return function(n){return e(t(n))}})},e.none=[],e.Cmd={none:e.none,ofFn:r,ofPromise:o,ofSub:e.ofSub,batch:e.batch,map:e.map},e.default=e.Cmd},function(t,e,n){"use strict";function r(t){return!!t&&["","state","cmd","cmd|state","0|1|cmd|state"].indexOf(Object.keys(t).sort().join("|"))>=0}function o(t){return 0===t.length||l.isFn(t[0])}function i(t,e){void 0===e&&(e={});var n={};return t?(n=t instanceof Array?o(t)?{state:e,cmd:t}:{state:t[0],cmd:t[1]||s.default.none}:r(t)?{state:t.state||e,cmd:t.cmd||s.default.none}:{state:t,cmd:s.default.none},n[0]=n.state,n[1]=n.cmd,n):{state:e,cmd:s.default.none}}function u(t,e){return t.map(function(t){return t(e)})}function a(t){function e(e){void 0===e&&(e=p),e!==p&&(p=e);var n=t.view(p,r);return l.isFn(n)&&(n=n(r)),a(n)}function n(o,i,a,c){for(var s in a)!function(s){if(/^_/.test(s))return"continue";var h=a[s];l.isFn(h)?i[s]=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];o=l.get(c,p);var v,y,d=p,g=h.apply(void 0,n);if(l.isFn(g)&&g.length>2){var m=c.length-1;y=l.get(c,r,m),v=l.get(c,p,m)}var b=f.runAction(g,o,i,v,y),w=b.state,_=b.cmd,x=c.join(".")+"."+s;return t.onUpdateStart&&t.onUpdateStart({action:x}),t.mutable?(p=l.setDeepMutable(c,o!==w?l.set(o,w):o,p),e(p)):w!==o&&(p=l.setDeep(c,l.merge(o,w),p),e(p)),t.onUpdated&&t.onUpdated({prevAppState:d,nextAppState:p,msgData:h.length?n:[],action:x}),u(_,i)}:"object"==typeof h&&h&&n(o[s]||(o[s]={}),i[s]=l.clone(h),h,c.concat(s))}(s)}var r={},o=t.subscribe||function(t){return s.default.none},a=t.onRender||l.noop,h=i(t.init()),p=h.state,v=h.cmd;return n(p,r,t.actions,[]),u(v,r),e(p),o(p).forEach(function(t){return t(r)}),c.__assign({get state(){return p}},t,{actions:r,render:e,patch:function(t,o,a){void 0===a&&(a=!1),a=a&&p[t];var c=i(o.init()),s=c.state,f=c.cmd,h=r[t];return h||(h=r[t]={},n(s,h,o.actions,[t])),a||(p=l.setDeep([t],s,p)),p=l.setDeep(["lazyComps",t],o,p),e(p),a?Promise.resolve():Promise.all(u(f,h))}})}Object.defineProperty(e,"__esModule",{value:!0});var c=n(0),s=n(4);e.Cmd=s.default;var l=n(1);e.isFn=l.isFn,e.noop=l.noop,e.isPojo=l.isPojo;var f=n(6);c.__exportStar(n(6),e),e.normalize=i,e.runCmd=u,e.app=a,e.default=a},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=null),{tag:t,data:e}}function o(t,e){return void 0===e&&(e=f.none),{state:t,cmd:e}}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce(function(t,e){return e(t)},e)}}function u(t){var e={},n=f.none;for(var r in t)!function(r){var o=h.normalize(t[r]);e[r]=o.state,n=f.batch(n,f.map(function(t){return t[r]},o.cmd))}(r);return{state:e,cmd:n}}function a(t,e,n,r,o){var i=t;if(p.isFn(i)&&(i=i(e,n,r,o))&&p.isFn(i)&&(i=i(n)),void 0===i||i.then&&p.isFn(i.then))return{state:e,cmd:f.none};var u=h.normalize(i,e);return{state:u.state||e,cmd:u.cmd}}function c(t,e){return e?function(n,r,o,i){return e(function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return a(t.apply(void 0,e),n,r)},o,i,n,r)}:t}function s(t,e,n){if(!n)return t;for(var r=e(t),o=function(t,e,o,i){return n(function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return a(r.apply(void 0,n),t,e)},o,i,t,e)},i=(e.toString().match(/((?:[\w_$]+\.)+[\w_$]+)/)||[])[1].split(".").slice(1),u=t,c=!1,s=0;s<i.length;s++){var f=i[s];if(u[f]===r){u[f]=o,c=!0;break}u=u[f]=l.__assign({},u[f])}return c||console.error(new Error("Cannot find action in parentActions"),t,e),t}Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),f=n(4),h=n(5);l.__exportStar(n(7),e),l.__exportStar(n(8),e);var p=n(1);e.dt=r,e.never=function(t){return t},e.mkInit=o,e.compose=i,e.combineInit=u,e.runAction=a,e.withParents=c,e.wrapActions=c,e.overrideAction=s},function(t,e,n){"use strict";function r(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function o(t){switch(r(t)){case"undefined":case"null":case"boolean":case"number":case"regexp":return t+"";case"date":return"📅"+t.getTime();case"string":return"📝"+t;case"array":return"🔗"+t.map(function(t){return o(t)}).join("⁞");default:if(c){var e=c.get(t);return e||(e=++u,c.set(t,e)),"⭕️"+e}return t.hasOwnProperty(a)||(t[a]=++u,i(t,a)),"⭕️"+t[a]}}function i(t,e){Object.defineProperty&&Object.defineProperty(t,e,{enumerable:!1})}Object.defineProperty(e,"__esModule",{value:!0});var u=0,a="undefined"!=typeof Symbol?Symbol("_hmuid_"):"_hmuid_",c="undefined"!=typeof WeakMap?new WeakMap:null;e.hashAny=o},function(t,e,n){"use strict";function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e.concat(t).map(i.hashAny).join("|"),o=a.get(r);return o||(o=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(void 0,e.concat(n))},a.set(r,o)),o}function o(t){a=new u(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),u=n(9),a=new u({max:100,maxAge:6e5});e.memoize=r,e.setCacheOptions=o},function(t,e,n){"use strict";function r(){return 1}function o(t){if(!(this instanceof o))return new o(t);"number"==typeof t&&(t={max:t}),t||(t={});var e=this[d]=t.max;(!e||"number"!=typeof e||e<=0)&&(this[d]=1/0);var n=t.length||r;"function"!=typeof n&&(n=r),this[m]=n,this[b]=t.stale||!1,this[w]=t.maxAge||0,this[_]=t.dispose,this[x]=t.noDisposeOnSet||!1,this.reset()}function i(t,e,n,r){var o=n.value;a(t,o)&&(s(t,n),t[b]||(o=void 0)),o&&e.call(r,o.value,o.key,t)}function u(t,e,n){var r=t[O].get(e);if(r){var o=r.value;a(t,o)?(s(t,r),t[b]||(o=void 0)):n&&t[j].unshiftNode(r),o&&(o=o.value)}return o}function a(t,e){if(!e||!e.maxAge&&!t[w])return!1;var n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[w]&&n>t[w]}function c(t){if(t[g]>t[d])for(var e=t[j].tail;t[g]>t[d]&&null!==e;){var n=e.prev;s(t,e),e=n}}function s(t,e){if(e){var n=e.value;t[_]&&t[_](n.key,n.value),t[g]-=n.length,t[O].delete(n.key),t[j].removeNode(e)}}function l(t,e,n,r,o){this.key=t,this.value=e,this.length=n,this.now=r,this.maxAge=o||0}t.exports=o;var f,h=n(10),p=n(12),v=n(15),y="function"==typeof Symbol;f=y?function(t){return Symbol(t)}:function(t){return"_"+t};var d=f("max"),g=f("length"),m=f("lengthCalculator"),b=f("allowStale"),w=f("maxAge"),_=f("dispose"),x=f("noDisposeOnSet"),j=f("lruList"),O=f("cache");Object.defineProperty(o.prototype,"max",{set:function(t){(!t||"number"!=typeof t||t<=0)&&(t=1/0),this[d]=t,c(this)},get:function(){return this[d]},enumerable:!0}),Object.defineProperty(o.prototype,"allowStale",{set:function(t){this[b]=!!t},get:function(){return this[b]},enumerable:!0}),Object.defineProperty(o.prototype,"maxAge",{set:function(t){(!t||"number"!=typeof t||t<0)&&(t=0),this[w]=t,c(this)},get:function(){return this[w]},enumerable:!0}),Object.defineProperty(o.prototype,"lengthCalculator",{set:function(t){"function"!=typeof t&&(t=r),t!==this[m]&&(this[m]=t,this[g]=0,this[j].forEach(function(t){t.length=this[m](t.value,t.key),this[g]+=t.length},this)),c(this)},get:function(){return this[m]},enumerable:!0}),Object.defineProperty(o.prototype,"length",{get:function(){return this[g]},enumerable:!0}),Object.defineProperty(o.prototype,"itemCount",{get:function(){return this[j].length},enumerable:!0}),o.prototype.rforEach=function(t,e){e=e||this;for(var n=this[j].tail;null!==n;){var r=n.prev;i(this,t,n,e),n=r}},o.prototype.forEach=function(t,e){e=e||this;for(var n=this[j].head;null!==n;){var r=n.next;i(this,t,n,e),n=r}},o.prototype.keys=function(){return this[j].toArray().map(function(t){return t.key},this)},o.prototype.values=function(){return this[j].toArray().map(function(t){return t.value},this)},o.prototype.reset=function(){this[_]&&this[j]&&this[j].length&&this[j].forEach(function(t){this[_](t.key,t.value)},this),this[O]=new h,this[j]=new v,this[g]=0},o.prototype.dump=function(){return this[j].map(function(t){if(!a(this,t))return{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}},this).toArray().filter(function(t){return t})},o.prototype.dumpLru=function(){return this[j]},o.prototype.inspect=function(t,e){var n="LRUCache {",o=!1;this[b]&&(n+="\n  allowStale: true",o=!0);var i=this[d];i&&i!==1/0&&(o&&(n+=","),n+="\n  max: "+p.inspect(i,e),o=!0);var u=this[w];u&&(o&&(n+=","),n+="\n  maxAge: "+p.inspect(u,e),o=!0);var c=this[m];c&&c!==r&&(o&&(n+=","),n+="\n  length: "+p.inspect(this[g],e),o=!0);var s=!1;return this[j].forEach(function(t){s?n+=",\n  ":(o&&(n+=",\n"),s=!0,n+="\n  ");var i=p.inspect(t.key).split("\n").join("\n  "),l={value:t.value};t.maxAge!==u&&(l.maxAge=t.maxAge),c!==r&&(l.length=t.length),a(this,t)&&(l.stale=!0),l=p.inspect(l,e).split("\n").join("\n  "),n+=i+" => "+l}),(s||o)&&(n+="\n"),n+="}"},o.prototype.set=function(t,e,n){n=n||this[w];var r=n?Date.now():0,o=this[m](e,t);if(this[O].has(t)){if(o>this[d])return s(this,this[O].get(t)),!1;var i=this[O].get(t),u=i.value;return this[_]&&(this[x]||this[_](t,u.value)),u.now=r,u.maxAge=n,u.value=e,this[g]+=o-u.length,u.length=o,this.get(t),c(this),!0}var a=new l(t,e,o,r,n);return a.length>this[d]?(this[_]&&this[_](t,e),!1):(this[g]+=a.length,this[j].unshift(a),this[O].set(t,this[j].head),c(this),!0)},o.prototype.has=function(t){return!!this[O].has(t)&&!a(this,this[O].get(t).value)},o.prototype.get=function(t){return u(this,t,!0)},o.prototype.peek=function(t){return u(this,t,!1)},o.prototype.pop=function(){var t=this[j].tail;return t?(s(this,t),t.value):null},o.prototype.del=function(t){s(this,this[O].get(t))},o.prototype.load=function(t){this.reset();for(var e=Date.now(),n=t.length-1;n>=0;n--){var r=t[n],o=r.e||0;if(0===o)this.set(r.k,r.v);else{var i=o-e;i>0&&this.set(r.k,r.v,i)}}},o.prototype.prune=function(){var t=this;this[O].forEach(function(e,n){u(t,n,!1)})}},function(t,e,n){(function(e){"pseudomap"===e.env.npm_package_name&&"test"===e.env.npm_lifecycle_script&&(e.env.TEST_PSEUDOMAP="true"),"function"!=typeof Map||e.env.TEST_PSEUDOMAP?t.exports=n(11):t.exports=Map}).call(e,n(2))},function(t,e){function n(t){if(!(this instanceof n))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),t)if(t instanceof n||"function"==typeof Map&&t instanceof Map)t.forEach(function(t,e){this.set(e,t)},this);else{if(!Array.isArray(t))throw new TypeError("invalid argument");t.forEach(function(t){this.set(t[0],t[1])},this)}}function r(t,e){return t===e||t!==t&&e!==e}function o(t,e,n){this.key=t,this.value=e,this._index=n}function i(t,e){for(var n=0,o="_"+e,i=o;a.call(t,i);i=o+n++)if(r(t[i].key,e))return t[i]}function u(t,e,n){for(var i=0,u="_"+e,c=u;a.call(t,c);c=u+i++)if(r(t[c].key,e))return void(t[c].value=n);t.size++,t[c]=new o(e,n,c)}var a=Object.prototype.hasOwnProperty;t.exports=n,n.prototype.forEach=function(t,e){e=e||this,Object.keys(this._data).forEach(function(n){"size"!==n&&t.call(e,this._data[n].value,this._data[n].key)},this)},n.prototype.has=function(t){return!!i(this._data,t)},n.prototype.get=function(t){var e=i(this._data,t);return e&&e.value},n.prototype.set=function(t,e){u(this._data,t,e)},n.prototype.delete=function(t){var e=i(this._data,t);e&&(delete this._data[e._index],this._data.size--)},n.prototype.clear=function(){var t=Object.create(null);t.size=0,Object.defineProperty(this,"_data",{value:t,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(n.prototype,"size",{get:function(){return this._data.size},set:function(t){},enumerable:!0,configurable:!0}),n.prototype.values=n.prototype.keys=n.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},function(t,e,n){(function(t,r){function o(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&e._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),c(r,t,r.depth)}function i(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function u(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function c(t,n,r){if(t.customInspect&&n&&P(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return b(o)||(o=c(t,o,r)),o}var i=s(t,n);if(i)return i;var u=Object.keys(n),y=a(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(n)),S(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return l(n);if(0===u.length){if(P(n)){var d=n.name?": "+n.name:"";return t.stylize("[Function"+d+"]","special")}if(x(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(O(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return l(n)}var g="",m=!1,w=["{","}"];if(v(n)&&(m=!0,w=["[","]"]),P(n)){g=" [Function"+(n.name?": "+n.name:"")+"]"}if(x(n)&&(g=" "+RegExp.prototype.toString.call(n)),O(n)&&(g=" "+Date.prototype.toUTCString.call(n)),S(n)&&(g=" "+l(n)),0===u.length&&(!m||0==n.length))return w[0]+g+w[1];if(r<0)return x(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var _;return _=m?f(t,n,r,y,u):u.map(function(e){return h(t,n,r,y,e,m)}),t.seen.pop(),p(_,g,w)}function s(t,e){if(_(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):d(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,o){for(var i=[],u=0,a=e.length;u<a;++u)D(e,String(u))?i.push(h(t,e,n,r,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(h(t,e,n,r,o,!0))}),i}function h(t,e,n,r,o,i){var u,a,s;if(s=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},s.get?a=s.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):s.set&&(a=t.stylize("[Setter]","special")),D(r,o)||(u="["+o+"]"),a||(t.seen.indexOf(s.value)<0?(a=d(n)?c(t,s.value,null):c(t,s.value,n-1),a.indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),_(u)){if(i&&o.match(/^\d+$/))return a;u=JSON.stringify(""+o),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+a}function p(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function v(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function d(t){return null===t}function g(t){return null==t}function m(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function _(t){return void 0===t}function x(t){return j(t)&&"[object RegExp]"===A(t)}function j(t){return"object"==typeof t&&null!==t}function O(t){return j(t)&&"[object Date]"===A(t)}function S(t){return j(t)&&("[object Error]"===A(t)||t instanceof Error)}function P(t){return"function"==typeof t}function E(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function A(t){return Object.prototype.toString.call(t)}function k(t){return t<10?"0"+t.toString(10):t.toString(10)}function z(){var t=new Date,e=[k(t.getHours()),k(t.getMinutes()),k(t.getSeconds())].join(":");return[t.getDate(),F[t.getMonth()],e].join(" ")}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var T=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,i=r.length,u=String(t).replace(T,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),a=r[n];n<i;a=r[++n])d(a)||!j(a)?u+=" "+a:u+=" "+o(a);return u},e.deprecate=function(n,o){function i(){if(!u){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),u=!0}return n.apply(this,arguments)}if(_(t.process))return function(){return e.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var u=!1;return i};var M,R={};e.debuglog=function(t){if(_(M)&&(M=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!R[t])if(new RegExp("\\b"+t+"\\b","i").test(M)){var n=r.pid;R[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else R[t]=function(){};return R[t]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=v,e.isBoolean=y,e.isNull=d,e.isNullOrUndefined=g,e.isNumber=m,e.isString=b,e.isSymbol=w,e.isUndefined=_,e.isRegExp=x,e.isObject=j,e.isDate=O,e.isError=S,e.isFunction=P,e.isPrimitive=E,e.isBuffer=n(13);var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",z(),e.format.apply(e,arguments))},e.inherits=n(14),e._extend=function(t,e){if(!e||!j(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,n(3),n(2))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach(function(t){e.push(t)});else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)e.push(arguments[r]);return e}function r(t,e){t.tail=new i(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function o(t,e){t.head=new i(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function i(t,e,n,r){if(!(this instanceof i))return new i(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}t.exports=n,n.Node=i,n.create=n,n.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)r(this,arguments[t]);return this.length},n.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;null!==n;r++)t.call(e,n.value,r,this),n=n.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;null!==n;r--)t.call(e,n.value,r,this),n=n.prev},n.prototype.get=function(t){for(var e=0,n=this.head;null!==n&&e<t;e++)n=n.next;if(e===t&&null!==n)return n.value},n.prototype.getReverse=function(t){for(var e=0,n=this.tail;null!==n&&e<t;e++)n=n.prev;if(e===t&&null!==n)return n.value},n.prototype.map=function(t,e){e=e||this;for(var r=new n,o=this.head;null!==o;)r.push(t.call(e,o.value,this)),o=o.next;return r},n.prototype.mapReverse=function(t,e){e=e||this;for(var r=new n,o=this.tail;null!==o;)r.push(t.call(e,o.value,this)),o=o.prev;return r},n.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var o=0;null!==r;o++)n=t(n,r.value,o),r=r.next;return n},n.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var o=this.length-1;null!==r;o--)n=t(n,r.value,o),r=r.prev;return n},n.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;null!==n;e++)t[e]=n.value,n=n.next;return t},n.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;null!==n;e++)t[e]=n.value,n=n.prev;return t},n.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var o=0,i=this.head;null!==i&&o<t;o++)i=i.next;for(;null!==i&&o<e;o++,i=i.next)r.push(i.value);return r},n.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var o=this.length,i=this.tail;null!==i&&o>e;o--)i=i.prev;for(;null!==i&&o>t;o--,i=i.prev)r.push(i.value);return r},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this}}])});
//# sourceMappingURL=hydux.core.js.map