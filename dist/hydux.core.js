!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.core=t():(n.hydux=n.hydux||{},n.hydux.core=t())}("undefined"!=typeof self?self:this,function(){return function(n){function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var e={};return t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=12)}({1:function(n,t,e){"use strict";function r(n,t){for(var e=Object.keys(t),r=e.length;r--;){var o=e[r];n[o]=t[o]}return n}function o(n,e){return r(r(t.isPojo(n)?{}:new n.constructor,n),e)}function u(n){return r(t.isPojo(n)?{}:new n.constructor,n)}function i(n,e,r){var u=t.isPojo(r)?{}:new r.constructor;return 0===n.length?e:(u[n[0]]=1<n.length?i(n.slice(1),e,r[n[0]]):e,o(r,u))}function c(n,t){for(var e=n.length,r=0;r<e;r++)t=t[n[r]];return t}function f(n){return"function"==typeof n}Object.defineProperty(t,"__esModule",{value:!0});var a=function(n){return void 0!==n&&null!==n};t.isPojo=function(n){return!a(n.constructor)||n.constructor===Object},t.set=r,t.merge=o,t.clone=u,t.setDeep=i,t.get=c,t.isFn=f,t.noop=function(n){return n}},12:function(n,t,e){"use strict";function r(n,t,e,r,o){var u=n;return f.isFn(u)&&(u=u(t,e,r,o))&&f.isFn(u)&&(u=u(e)),void 0===u||u.then&&f.isFn(u.then)?[t,c.default.none]:u instanceof Array?[u[0]||t,u[1]||c.default.none]:[u,c.default.none]}function o(n,t,e,o){return function(e,o,u,i){return t(function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];return r(n.apply(void 0,t),e,o)},u,i,e,o)}}function u(n){function t(t){void 0===t&&(t=p),t!==p&&(p=t);var e;return f.isFn(e=n.view(p,o))&&(e=e(o)),a(e)}function e(u,i,a,s){for(var l in a)!function(l){if(/^_/.test(l))return"continue";var d=a[l];f.isFn(d)?i[l]=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];u=f.get(s,p);var v=[u,p],y=v[0],h=v[1],g=c.default.none,b=[void 0,void 0],j=b[0],m=b[1],x=d.apply(void 0,e);if(f.isFn(x)&&x.length>2){var O=s.slice(0,-1);m=f.get(O,o),j=f.get(O,p)}P=r(x,u,i,j,m),y=P[0],g=P[1],n.onUpdate&&(h=f.setDeep(s,f.merge(u,y),p),n.onUpdate({prevAppState:p,nextAppState:h,msgData:e,action:s.concat(l).join(".")})),y!==u&&(p=h!==p?h:f.setDeep(s,f.merge(u,y),p),t(p)),g.forEach(function(n){return n(i)});var P}:"object"==typeof d&&d&&e(u[l]||(u[l]={}),i[l]=f.clone(d),d,s.concat(l))}(l)}var o={},u=n.subscribe||function(n){return c.default.none},a=n.onRender||f.noop,s=r(n.init(),void 0,o),p=s[0],l=s[1];return e(p,o,n.actions,[]),l.forEach(function(n){return n(o)}),t(p),u(p).forEach(function(n){return n(o)}),i({},n,{actions:o,get state(){return p},getState:function(){return p},render:t})}var i=this&&this.__assign||Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n};Object.defineProperty(t,"__esModule",{value:!0});var c=e(2);t.Cmd=c.default;var f=e(1);t.noop=f.noop,t.runAction=r,t.wrapAction=o,t.default=u},2:function(n,t,e){"use strict";function r(n,t,e,r){if(!n)return[];u.isFn(t)&&(r=e,e=t,t=void 0);var o=function(){var r=n(t);return e&&e(r),r};return[function(n){if(!r)return o();try{return o()}catch(n){console.error(n),r(n)}}]}function o(n,t,e,r){return n?(u.isFn(t)&&(r=e,e=t,t=void 0),[function(o){return n(t).then(e).catch(r)}]):[]}Object.defineProperty(t,"__esModule",{value:!0});var u=e(1);t.default={none:[],ofPromise:o,ofFn:r,ofSub:function(n){return[n]},batch:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=Array.prototype.concat;return e.apply([],e.apply([],n))},map:function(n,t){return t.map(function(t){return function(e){return t(n(e))}})}}}})});
//# sourceMappingURL=hydux.core.js.map