{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///hydux.core.js","webpack:///webpack/bootstrap fa64010ce93c599ef4e1","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./src/cmd.ts","webpack:///./src/utils.ts","webpack:///./src/index.ts","webpack:///./node_modules/process/browser.js","webpack:///./src/helpers/index.ts"],"names":["root","factory","exports","module","define","amd","self","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","__extends","b","__","constructor","extendStatics","create","__rest","e","t","indexOf","getOwnPropertySymbols","length","__decorate","decorators","target","key","desc","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","apply","__generator","body","verb","v","op","f","TypeError","_","y","label","ops","pop","trys","push","g","sent","throw","return","Symbol","iterator","__exportStar","__values","__read","ar","error","__spread","concat","__await","__asyncGenerator","a","q","resume","settle","fulfill","shift","asyncIterator","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__assign","setPrototypeOf","__proto__","Array","assign","ofFn","task","args","succeedAction","failedAction","utils_1","isFn","fn","console","ofPromise","res","catch","ofSub","sub","_concat","batch","cmds","_i","map","cmd","actions","none","Cmd","default","process","set","to","from","keys","merge","isPojo","clone","setDeep","path","toCursor","fromCursor","lastIdx","setDeepMutable","cursor","len","data","isSet","val","obj","isDev","debug","log","noop","runAction","state","parentState","parentActions","appContext","rst","undefined","cmd_1","withParents","action","wrapper","isInitObj","join","normalizeInit","initResult","runCmd","app","props","appRender","appState","view","appActions","render","init","test","subFrom","msgData","nextState","nextAppState","actionResult","pLen","_a","onUpdate","mutable","prevAppState","appSubscribe","subscribe","onRender","forEach","tslib_1","patch","comp","reuseState","all","wrapActions","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","run","Item","array","nextTick","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","dt","tag","compose","fns","arg","reduce","combineInit","index_1","never","mkInit"],"mappings":"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","file":"hydux.core.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"core\"] = factory();\n\telse\n\t\troot[\"hydux\"] = root[\"hydux\"] || {}, root[\"hydux\"][\"core\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"core\"] = factory();\n\telse\n\t\troot[\"hydux\"] = root[\"hydux\"] || {}, root[\"hydux\"][\"core\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"__extends\"] = __extends;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__assign\", function() { return __assign; });\n/* harmony export (immutable) */ __webpack_exports__[\"__rest\"] = __rest;\n/* harmony export (immutable) */ __webpack_exports__[\"__decorate\"] = __decorate;\n/* harmony export (immutable) */ __webpack_exports__[\"__param\"] = __param;\n/* harmony export (immutable) */ __webpack_exports__[\"__metadata\"] = __metadata;\n/* harmony export (immutable) */ __webpack_exports__[\"__awaiter\"] = __awaiter;\n/* harmony export (immutable) */ __webpack_exports__[\"__generator\"] = __generator;\n/* harmony export (immutable) */ __webpack_exports__[\"__exportStar\"] = __exportStar;\n/* harmony export (immutable) */ __webpack_exports__[\"__values\"] = __values;\n/* harmony export (immutable) */ __webpack_exports__[\"__read\"] = __read;\n/* harmony export (immutable) */ __webpack_exports__[\"__spread\"] = __spread;\n/* harmony export (immutable) */ __webpack_exports__[\"__await\"] = __await;\n/* harmony export (immutable) */ __webpack_exports__[\"__asyncGenerator\"] = __asyncGenerator;\n/* harmony export (immutable) */ __webpack_exports__[\"__asyncDelegator\"] = __asyncDelegator;\n/* harmony export (immutable) */ __webpack_exports__[\"__asyncValues\"] = __asyncValues;\n/* harmony export (immutable) */ __webpack_exports__[\"__makeTemplateObject\"] = __makeTemplateObject;\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar utils_1 = __webpack_require__(2);\r\nfunction ofFn(task, args, succeedAction, failedAction) {\r\n    if (!task) {\r\n        return [];\r\n    }\r\n    if (utils_1.isFn(args)) {\r\n        failedAction = succeedAction;\r\n        succeedAction = args;\r\n        args = void 0;\r\n    }\r\n    var fn = function () {\r\n        var result = task(args);\r\n        if (succeedAction) {\r\n            succeedAction(result);\r\n        }\r\n        return result;\r\n    };\r\n    return [\r\n        function (_) {\r\n            if (failedAction) {\r\n                try {\r\n                    return fn();\r\n                }\r\n                catch (e) {\r\n                    console.error(e);\r\n                    failedAction(e);\r\n                }\r\n            }\r\n            else { // don't wrap in try cache, get better DX in `Pause on exceptions`\r\n                return fn();\r\n            }\r\n        }\r\n    ];\r\n}\r\nexports.ofFn = ofFn;\r\nfunction ofPromise(task, args, succeedAction, failedAction) {\r\n    if (!task) {\r\n        return [];\r\n    }\r\n    if (utils_1.isFn(args)) {\r\n        failedAction = succeedAction;\r\n        succeedAction = args;\r\n        args = void 0;\r\n    }\r\n    return [\r\n        function (_) {\r\n            return task(args)\r\n                .then(function (res) {\r\n                try {\r\n                    succeedAction && succeedAction(res);\r\n                }\r\n                catch (error) {\r\n                    console.error(error);\r\n                }\r\n            })\r\n                .catch(failedAction);\r\n        }\r\n    ];\r\n}\r\nexports.ofPromise = ofPromise;\r\n/**\r\n * Create a command from a sub function, you can access all same level actions in a `sub`.\r\n * @param sub\r\n */\r\nexports.ofSub = function (sub) { return [sub]; };\r\nvar _concat = Array.prototype.concat;\r\n/**\r\n * Batch multi commands to one command\r\n * @param cmds\r\n */\r\nexports.batch = function () {\r\n    var cmds = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        cmds[_i] = arguments[_i];\r\n    }\r\n    return _concat.apply([], _concat.apply([], cmds));\r\n};\r\n/**\r\n * Map a command to a low level command\r\n * @param map\r\n * @param cmd\r\n */\r\nexports.map = function (map, cmd) {\r\n    return cmd.map(function (sub) { return function (actions) { return sub(map(actions)); }; });\r\n};\r\n/**\r\n * Empty command\r\n */\r\nexports.none = [];\r\nexports.Cmd = {\r\n    none: exports.none,\r\n    ofFn: ofFn,\r\n    ofPromise: ofPromise,\r\n    ofSub: exports.ofSub,\r\n    batch: exports.batch,\r\n    map: exports.map,\r\n};\r\nexports.default = exports.Cmd;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar isSet = function (val) { return typeof val !== 'undefined' && val !== null; };\r\nexports.isPojo = function (obj) { return !isSet(obj.constructor) || obj.constructor === Object; };\r\nexports.isDev = typeof process !== 'undefined' && \"production\" === 'development';\r\nexports.debug = function (key) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    exports.isDev && console.log.apply(console, [\"[hydux-\" + key + \"]\"].concat(args));\r\n};\r\nfunction set(to, from) {\r\n    var keys = Object.keys(from);\r\n    for (var i = 0; i < keys.length; i++) {\r\n        var key = keys[i];\r\n        to[key] = from[key];\r\n    }\r\n    return to;\r\n}\r\nexports.set = set;\r\nfunction merge(to, from) {\r\n    return set(set(exports.isPojo(to) ? {} : new to.constructor(), to), from);\r\n}\r\nexports.merge = merge;\r\nfunction clone(from) {\r\n    return set(exports.isPojo(from) ? {} : new from.constructor(), from);\r\n}\r\nexports.clone = clone;\r\nfunction setDeep(path, value, from) {\r\n    if (path.length === 0) {\r\n        return value;\r\n    }\r\n    var to = exports.isPojo(from)\r\n        ? {} : new from.constructor();\r\n    var toCursor = to;\r\n    var fromCursor = from;\r\n    var lastIdx = path.length - 1;\r\n    set(toCursor, fromCursor);\r\n    for (var i = 0; i < lastIdx; i++) {\r\n        var key = path[i];\r\n        toCursor = toCursor[key];\r\n        fromCursor = fromCursor[key];\r\n        set(toCursor, fromCursor);\r\n    }\r\n    toCursor[path[lastIdx]] = value;\r\n    return to;\r\n}\r\nexports.setDeep = setDeep;\r\nfunction setDeepMutable(path, value, from) {\r\n    var cursor = from;\r\n    for (var i = 0; i < path.length - 1; i++) {\r\n        cursor = cursor[path[i]];\r\n    }\r\n    cursor[path[path.length - 1]] = value;\r\n    return from;\r\n}\r\nexports.setDeepMutable = setDeepMutable;\r\nfunction get(path, from, len) {\r\n    if (len === void 0) { len = path.length; }\r\n    for (var i = 0; i < len; i++) {\r\n        from = from[path[i]];\r\n    }\r\n    return from;\r\n}\r\nexports.get = get;\r\nfunction isFn(data) {\r\n    return 'function' === typeof data;\r\n}\r\nexports.isFn = isFn;\r\nexports.noop = function (f) { return f; };\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4)))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(0);\r\nvar cmd_1 = __webpack_require__(1);\r\nexports.Cmd = cmd_1.default;\r\nvar utils_1 = __webpack_require__(2);\r\nexports.isFn = utils_1.isFn;\r\nexports.noop = utils_1.noop;\r\nexports.isPojo = utils_1.isPojo;\r\ntslib_1.__exportStar(__webpack_require__(5), exports);\r\n/**\r\n * run action and return a normalized result ([State, CmdType<>]),\r\n * this is useful to write High-Order-Action, which take an action and return a wrapped action.\r\n * @param result result of `action(msg: Data)`\r\n * @param state\r\n * @param actions\r\n */\r\nfunction runAction(result, state, actions, parentState, parentActions, appContext) {\r\n    var rst = result;\r\n    utils_1.isFn(rst)\r\n        && (rst = rst(state, actions, parentState, parentActions))\r\n        && utils_1.isFn(rst)\r\n        && (rst = rst(actions));\r\n    // action can be a function that return a promise or undefined(callback)\r\n    if (rst === undefined ||\r\n        (rst.then && utils_1.isFn(rst.then))) {\r\n        return [state, cmd_1.default.none];\r\n    }\r\n    if (rst instanceof Array) {\r\n        return [rst[0] || state, rst[1] || cmd_1.default.none];\r\n    }\r\n    return [rst, cmd_1.default.none];\r\n}\r\nexports.runAction = runAction;\r\n/**\r\n * Wrap a child action with parentState, parentActions.\r\n * @param action The action to be wrapped\r\n * @param wrapper\r\n * @param parentState\r\n * @param parentActions\r\n */\r\nfunction withParents(action, wrapper, parentState, parentActions) {\r\n    if (!wrapper) {\r\n        return action;\r\n    }\r\n    var wrapped = function (state, actions, parentState, parentActions) {\r\n        var nactions = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return runAction(action.apply(void 0, args), state, actions);\r\n        };\r\n        return wrapper(nactions, parentState, parentActions, state, actions);\r\n    };\r\n    return wrapped;\r\n}\r\nexports.withParents = withParents;\r\n/**\r\n * @deprecated Deprecated for `withParents`\r\n */\r\nexports.wrapActions = withParents;\r\nfunction isInitObj(res) {\r\n    var keys = Object.keys(res).join('|');\r\n    return keys === 'state' || keys === 'state|cmd';\r\n}\r\nfunction normalizeInit(initResult) {\r\n    if (initResult instanceof Array) {\r\n        return {\r\n            state: initResult[0],\r\n            cmd: initResult[1]\r\n        };\r\n    }\r\n    if (isInitObj(initResult)) {\r\n        return {\r\n            state: initResult.state,\r\n            cmd: initResult.cmd || cmd_1.default.none,\r\n        };\r\n    }\r\n    return {\r\n        state: initResult,\r\n        cmd: cmd_1.default.none\r\n    };\r\n}\r\nexports.normalizeInit = normalizeInit;\r\nfunction runCmd(cmd, actions) {\r\n    return cmd.map(function (sub) { return sub(actions); });\r\n}\r\nexports.runCmd = runCmd;\r\nfunction app(props) {\r\n    // const appEvents = props.events || {}\r\n    var appActions = {};\r\n    var appSubscribe = props.subscribe || (function (_) { return cmd_1.default.none; });\r\n    var render = props.onRender || utils_1.noop;\r\n    // const appMiddlewares = props.middlewares || []\r\n    var _a = normalizeInit(props.init()), appState = _a.state, cmd = _a.cmd;\r\n    init(appState, appActions, props.actions, []);\r\n    runCmd(cmd, appActions);\r\n    appRender(appState);\r\n    appSubscribe(appState).forEach(function (sub) { return sub(appActions); });\r\n    var appContext = tslib_1.__assign({ \r\n        // getter should before spread operator,\r\n        // otherwise it would be copied and becomes normal property\r\n        get state() {\r\n            return appState;\r\n        } }, props, { actions: appActions, render: appRender, patch: function (path, comp, reuseState) {\r\n            if (reuseState === void 0) { reuseState = false; }\r\n            reuseState = reuseState && appState[path];\r\n            var _a = normalizeInit(comp.init()), state = _a.state, cmd = _a.cmd;\r\n            var actions = appActions[path];\r\n            if (!actions) {\r\n                actions = appActions[path] = {};\r\n                init(state, actions, comp.actions, [path]);\r\n            }\r\n            if (!reuseState) {\r\n                appState = utils_1.setDeep([path], state, appState);\r\n            }\r\n            appState = utils_1.setDeep(['lazyComps', path], comp, appState);\r\n            appRender(appState);\r\n            return reuseState\r\n                ? Promise.resolve()\r\n                : Promise.all(runCmd(cmd, actions));\r\n        } });\r\n    return appContext;\r\n    function appRender(state) {\r\n        if (state === void 0) { state = appState; }\r\n        if (state !== appState) {\r\n            appState = state;\r\n        }\r\n        var view = props.view(appState, appActions);\r\n        if (utils_1.isFn(view)) {\r\n            view = view(appActions);\r\n        }\r\n        return render(view);\r\n    }\r\n    function init(state, actions, from, path) {\r\n        var _loop_1 = function (key) {\r\n            if (/^_/.test(key)) {\r\n                return \"continue\";\r\n            }\r\n            var subFrom = from[key];\r\n            if (utils_1.isFn(subFrom)) {\r\n                actions[key] = function () {\r\n                    var msgData = [];\r\n                    for (var _i = 0; _i < arguments.length; _i++) {\r\n                        msgData[_i] = arguments[_i];\r\n                    }\r\n                    state = utils_1.get(path, appState);\r\n                    // action = appMiddlewares.reduce((action, fn) => fn(action, key, path), action)\r\n                    var nextState = state;\r\n                    var nextAppState = appState;\r\n                    var cmd = cmd_1.default.none;\r\n                    var parentState;\r\n                    var parentActions;\r\n                    var actionResult = subFrom.apply(void 0, msgData);\r\n                    if (utils_1.isFn(actionResult) && actionResult.length > 2) {\r\n                        var pLen = path.length - 1;\r\n                        parentActions = utils_1.get(path, appActions, pLen);\r\n                        parentState = utils_1.get(path, appState, pLen);\r\n                    }\r\n                    _a = runAction(actionResult, state, actions, parentState, parentActions), nextState = _a[0], cmd = _a[1];\r\n                    if (props.onUpdate) {\r\n                        if (props.mutable) {\r\n                            nextAppState = utils_1.setDeepMutable(path, state !== nextState\r\n                                ? utils_1.set(state, nextState)\r\n                                : state, appState);\r\n                        }\r\n                        else {\r\n                            nextAppState = utils_1.setDeep(path, utils_1.merge(state, nextState), appState);\r\n                        }\r\n                        props.onUpdate({\r\n                            prevAppState: appState,\r\n                            nextAppState: nextAppState,\r\n                            msgData: subFrom.length ? msgData : [],\r\n                            action: path.join('.') + '.' + key,\r\n                        });\r\n                    }\r\n                    if (props.mutable) {\r\n                        appState = utils_1.setDeepMutable(path, state !== nextState\r\n                            ? utils_1.set(state, nextState)\r\n                            : state, appState);\r\n                        appRender(appState);\r\n                    }\r\n                    else if (nextState !== state) {\r\n                        if (props.onUpdate) {\r\n                            appState = nextAppState;\r\n                        }\r\n                        else {\r\n                            appState = utils_1.setDeep(path, utils_1.merge(state, nextState), appState);\r\n                        }\r\n                        appRender(appState);\r\n                    }\r\n                    return runCmd(cmd, actions);\r\n                    var _a;\r\n                };\r\n            }\r\n            else if (typeof subFrom === 'object' && subFrom) {\r\n                init(state[key] || (state[key] = {}), (actions[key] = utils_1.clone(subFrom)), subFrom, path.concat(key));\r\n            }\r\n        };\r\n        for (var key in from) {\r\n            _loop_1(key);\r\n        }\r\n    }\r\n}\r\nexports.app = app;\r\nexports.default = app;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Cmd = __webpack_require__(1);\r\nvar index_1 = __webpack_require__(3);\r\n/**\r\n * ADT Helper for TS\r\n * e.g.\r\n * ```ts\r\n * type Msg =\r\n * | Dt<'fetchBook', number>\r\n * | Dt<'updateBook', Book>\r\n *\r\n * let msg = dt('fetchBook', 1)\r\n * switch(msg.tag) {\r\n *   case 'fetchBook':\r\n *      //...\r\n *      break\r\n *   case 'updateBook':\r\n *      //...\r\n *      break\r\n *   default:\r\n *      never(msg.tag) // incomplete check from TS\r\n *      break\r\n * }\r\n * ```\r\n */\r\nfunction dt(tag, data) {\r\n    if (data === void 0) { data = null; }\r\n    return { tag: tag, data: data };\r\n}\r\nexports.dt = dt;\r\nexports.never = function (f) { return f; };\r\nexports.mkInit = function (state, cmd) {\r\n    if (cmd === void 0) { cmd = Cmd.none; }\r\n    return function () { return [state, cmd]; };\r\n};\r\nfunction compose() {\r\n    var fns = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        fns[_i] = arguments[_i];\r\n    }\r\n    return function (arg) {\r\n        return fns.reduce(function (arg, fn) { return fn(arg); }, arg);\r\n    };\r\n}\r\nexports.compose = compose;\r\nfunction combineInit(arg) {\r\n    var state = {};\r\n    var cmd = Cmd.none;\r\n    var _loop_1 = function (key) {\r\n        var init = index_1.normalizeInit(arg[key]);\r\n        state[key] = init.state;\r\n        cmd = Cmd.batch(cmd, Cmd.map(function (_) { return _[key]; }, init.cmd));\r\n    };\r\n    for (var key in arg) {\r\n        _loop_1(key);\r\n    }\r\n    return { state: state, cmd: cmd };\r\n}\r\nexports.combineInit = combineInit;\r\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// hydux.core.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fa64010ce93c599ef4e1","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/tslib/tslib.es6.js\n// module id = 0\n// module chunks = 0 1 2 3 4 5","import { ActionResult, ActionType, ActionsType } from './types'\nimport { isFn } from './utils'\nexport interface Sub<Actions> {\n  (actions: Actions): any\n}\nexport type CmdType<Actions> = Sub<Actions>[]\n/**\n * Create command from a function has side effects.\n * @param task A function has one or zero paramter.\n * @param args Optional, the parameter of the funciton\n * @param succeedAction An action that would executed after the function executed.\n * @param failedAction An action that would executed after the function throw an error.\n */\nexport function ofFn<A, T, State, Actions>(\n  task: (args: A) => T,\n  args: A,\n  succeedAction?: ActionType<T, State, Actions>,\n  failedAction?: ActionType<Error, State, Actions>\n): CmdType<Actions>\n\nexport function ofFn<A, T, State, Actions>(\n  task?: () => T,\n  succeedAction?: ActionType<T, State, Actions>,\n  failedAction?: ActionType<Error, State, Actions>\n): CmdType<Actions>\n\nexport function ofFn<A, T, State, Actions>(\n  task?: (args?: A) => T,\n  args?: A,\n  succeedAction?: ActionType<T, State, Actions>,\n  failedAction?: ActionType<Error, State, Actions>\n): CmdType<Actions> {\n  if (!task) {\n    return [] as CmdType<Actions>\n  }\n  if (isFn(args)) {\n    failedAction = succeedAction as any\n    succeedAction = args as any\n    args = void 0\n  }\n  const fn = () => {\n    const result = task(args)\n    if (succeedAction) {\n      succeedAction(result)\n    }\n    return result\n  }\n  return [\n    _ => {\n      if (failedAction) {\n        try {\n          return fn()\n        } catch (e) {\n          console.error(e)\n          failedAction(e)\n        }\n      } else { // don't wrap in try cache, get better DX in `Pause on exceptions`\n        return fn()\n      }\n    }\n  ]\n}\n/**\n * Create a command from promise\n * @param task A function that take one or zero parameter and return a promise.\n * @param args Optional, the paramter of task\n * @param succeedAction An action would execute when the promise fulfilled.\n * @param failedAction An action would execute when the promise rejected.\n */\nexport function ofPromise<A, T, State, Actions>(\n  task: (arg: A) => Promise<T>,\n  args: A,\n  succeedAction?: ActionType<T, State, Actions>,\n  failedAction?: ActionType<Error, State, Actions>\n): CmdType<Actions>\n\nexport function ofPromise<A, T, State, Actions>(\n  task: () => Promise<T>,\n  succeedAction?: ActionType<T, State, Actions>,\n  failedAction?: ActionType<Error, State, Actions>\n): CmdType<Actions>\n\nexport function ofPromise<A, T, State, Actions>(\n  task: (args?: A) => Promise<T>,\n  args?: A,\n  succeedAction?: ActionType<T, State, Actions>,\n  failedAction?: ActionType<Error, State, Actions>\n): CmdType<Actions> {\n  if (!task) {\n    return [] as CmdType<Actions>\n  }\n  if (isFn(args)) {\n    failedAction = succeedAction as any\n    succeedAction = args as any\n    args = void 0\n  }\n  return [\n    _ =>\n      task(args)\n        .then(res => {\n          try {\n            succeedAction && succeedAction(res)\n          } catch (error) {\n            console.error(error)\n          }\n        })\n        .catch(failedAction)\n  ]\n}\n/**\n * Create a command from a sub function, you can access all same level actions in a `sub`.\n * @param sub\n */\nexport const ofSub = <Actions>(sub: Sub<Actions>): CmdType<Actions> => [sub]\nconst _concat = Array.prototype.concat\n/**\n * Batch multi commands to one command\n * @param cmds\n */\nexport const batch = <Actions>(\n  ...cmds: (CmdType<Actions> | CmdType<Actions>[])[]\n): CmdType<Actions> =>\n  _concat.apply([], _concat.apply([], cmds))\n/**\n * Map a command to a low level command\n * @param map\n * @param cmd\n */\nexport const map = <Actions, SubActions>(\n  map: (action: Actions) => SubActions, cmd: CmdType<SubActions>\n): CmdType<Actions> =>\n  cmd.map(sub => actions => sub(map(actions)))\n/**\n * Empty command\n */\nexport const none = ([] as Array<Sub<any>>)\n\nexport const Cmd = {\n  none,\n  ofFn,\n  ofPromise,\n  ofSub,\n  batch,\n  map,\n}\n\nexport default Cmd\n\n\n\n// WEBPACK FOOTER //\n// ./src/cmd.ts","\nconst isSet = val => typeof val !== 'undefined' && val !== null\nexport const isPojo = obj => !isSet(obj.constructor) || obj.constructor === Object\n\nexport const isDev = typeof process !== 'undefined' && process.env.NODE_ENV === 'development'\n\nexport const debug = (key: string, ...args: any[]) => {\n  isDev && console.log(`[hydux-${key}]`, ...args)\n}\n\nexport function set(to, from) {\n  const keys = Object.keys(from)\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i]\n    to[key] = from[key]\n  }\n  return to\n}\n\nexport function merge(to, from) {\n  return set(set(isPojo(to) ? {} : new to.constructor(), to), from)\n}\n\nexport function clone(from) {\n  return set(isPojo(from) ? {} : new from.constructor(), from)\n}\n\nexport function setDeep(path: string[], value, from) {\n  if (path.length === 0) {\n    return value\n  }\n  let to =\n    isPojo(from)\n      ? {} : new from.constructor()\n  let toCursor = to\n  let fromCursor = from\n  let lastIdx = path.length - 1\n  set(toCursor, fromCursor)\n  for (let i = 0; i < lastIdx; i++) {\n    const key = path[i]\n    toCursor = toCursor[key]\n    fromCursor = fromCursor[key]\n    set(toCursor, fromCursor)\n  }\n  toCursor[path[lastIdx]] = value\n  return to\n}\n\nexport function setDeepMutable(path: string[], value, from) {\n  let cursor = from\n  for (let i = 0; i < path.length - 1; i++) {\n    cursor = cursor[path[i]]\n  }\n  cursor[path[path.length - 1]] = value\n  return from\n}\n\nexport function get(path: string[], from: any, len: number = path.length) {\n  for (let i = 0; i < len; i++) {\n    from = from[path[i]]\n  }\n  return from\n}\n\nexport function isFn(data): data is Function {\n  return 'function' === typeof data\n}\n\nexport const noop = f => f\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.ts","import {\n  ActionResult,\n  ActionState,\n  ActionCmdResult,\n  ActionType,\n  ActionsType,\n  UnknownArgsActionType,\n  NormalAction,\n} from './types'\nimport Cmd, { CmdType, Sub } from './cmd'\nimport { set, merge, setDeep, setDeepMutable, get, isFn, noop, isPojo, clone } from './utils'\nexport * from './helpers'\nexport * from './types'\nexport { Cmd, CmdType, Sub, ActionResult, noop, isFn, isPojo }\n\nexport type Init<S, A> = () => S | [S, CmdType<A>] | InitObj<S, A>\nexport type InitObj<S, A> = {\n  state: S\n  cmd?: CmdType<A>\n}\n// todo: Remove back compatible optional ctx\nexport type View<S, A> = ((state: S, actions: A) => any)\nexport type Subscribe<S, A> = (state: S) => CmdType<A>\nexport type OnUpdate<S, A> = <M>(\n  data: { prevAppState: S; nextAppState: S; msgData: M; action: string },\n) => void\nexport type OnUpdateStart<S, A> = <M>(data: { action: string }) => void\nexport type Patch = <S, A>(path: string | string[], component: Component<S, A>, reuseState?: boolean) => Promise<any>\n\nexport interface AppProps<State, Actions> {\n  init: Init<State, Actions>\n  view: View<State, Actions>\n  actions: ActionsType<State, Actions>\n  subscribe?: Subscribe<State, Actions>\n  // middlewares: ((action: MyAction<any, State, Actions>, key: string, path: string[]) => MyAction<any, State, Actions>)[],\n  onRender?: (view: any) => void\n  onUpdate?: OnUpdate<State, Actions>\n  onUpdateStart?: OnUpdateStart<State, Actions>\n  /**\n   * Use mutable state, useful for high performance scenarios like graphics rendering, e.g. hydux-pixi\n   */\n  mutable?: boolean\n}\n/**\n * run action and return a normalized result ([State, CmdType<>]),\n * this is useful to write High-Order-Action, which take an action and return a wrapped action.\n * @param result result of `action(msg: Data)`\n * @param state\n * @param actions\n */\nexport function runAction<S, A, PS, PA>(\n  result: ActionResult<S, A> | ((state: S, actions: A) => ActionResult<S, A>),\n  state: S,\n  actions: A,\n  parentState?: PS,\n  parentActions?: PA,\n  appContext?: Context<any, any>\n): ActionCmdResult<S, A> {\n  let rst: any = result\n  isFn(rst)\n    && (rst = rst(state, actions, parentState, parentActions))\n    && isFn(rst)\n    && (rst = rst(actions))\n  // action can be a function that return a promise or undefined(callback)\n  if (\n    rst === undefined ||\n    (rst.then && isFn(rst.then))\n  ) {\n    return [state, Cmd.none]\n  }\n  if (rst instanceof Array) {\n    return [rst[0] || state, rst[1] || Cmd.none]\n  }\n  return [rst, Cmd.none]\n}\n\nexport function withParents<S, A, PS, PA, A1>(\n  action: (a1: A1) => (s: S, a: A) => any,\n  wrapper?: (\n    action: (a1: A1) => ActionCmdResult<S, A>,\n    parentState: PS,\n    parentActions: PA,\n    state: S,\n    actions: A,\n  ) => ActionResult<S, A>,\n  parentState?: PS,\n  parentActions?: PA,\n)\nexport function withParents<S, A, PS, PA, A1, A2>(\n  action: (a1: A1, a2: A2) => (s: S, a: A) => any,\n  wrapper?: (\n    action: (a1: A1, a2: A2) => ActionCmdResult<S, A>,\n    parentState: PS,\n    parentActions: PA,\n    state: S,\n    actions: A,\n  ) => ActionResult<S, A>,\n  parentState?: PS,\n  parentActions?: PA,\n)\nexport function withParents<S, A, PS, PA, A1, A2, A3>(\n  action: (a1: A1, a2: A2, a3: A3) => (s: S, a: A) => any,\n  wrapper?: (\n    action: (a1: A1, a2: A2, a3: A3) => ActionCmdResult<S, A>,\n    parentState: PS,\n    parentActions: PA,\n    state: S,\n    actions: A,\n  ) => ActionResult<S, A>,\n  parentState?: PS,\n  parentActions?: PA,\n)\nexport function withParents<S, A, PS, PA, A1, A2, A3, A4>(\n  action: (a1: A1, a2: A2, a3: A3, a4: A4) => (s: S, a: A) => any,\n  wrapper?: (\n    action: (a1: A1, a2: A2, a3: A3, a4: A4) => ActionCmdResult<S, A>,\n    parentState: PS,\n    parentActions: PA,\n    state: S,\n    actions: A,\n  ) => ActionResult<S, A>,\n  parentState?: PS,\n  parentActions?: PA,\n)\nexport function withParents<S, A, PS, PA, A1, A2, A3, A4, A5>(\n  action: (a1: A1, a2: A2, a3: A3, a4: A4, a5: A5) => (s: S, a: A) => any,\n  wrapper?: (\n    action: (a1: A1, a2: A2, a3: A3, a4: A4, a5: A5) => ActionCmdResult<S, A>,\n    parentState: PS,\n    parentActions: PA,\n    state: S,\n    actions: A,\n  ) => ActionResult<S, A>,\n  parentState?: PS,\n  parentActions?: PA,\n)\n/**\n * Wrap a child action with parentState, parentActions.\n * @param action The action to be wrapped\n * @param wrapper\n * @param parentState\n * @param parentActions\n */\nexport function withParents<S, A, PS, PA>(\n  action: UnknownArgsActionType<S, A>,\n  wrapper?: (\n    action: NormalAction<any, S, A>,\n    parentState: PS,\n    parentActions: PA,\n    state: S,\n    actions: A,\n  ) => ActionResult<S, A>,\n  parentState?: PS,\n  parentActions?: PA,\n): any {\n  if (!wrapper) {\n    return action\n  }\n  const wrapped = (state: S, actions: A, parentState: PS, parentActions: PA) => {\n    const nactions = (...args) => runAction(action(...args), state, actions)\n    return wrapper(nactions, parentState, parentActions, state, actions)\n  }\n  return wrapped\n}\n/**\n * @deprecated Deprecated for `withParents`\n */\nexport const wrapActions = withParents\n\nexport interface Component<State, Actions> {\n  init: Init<State, Actions>\n  view: View<State, Actions>\n  actions: ActionsType<State, Actions>\n}\n\nexport interface Context<State, Actions, RenderReturn = any> {\n  actions: Actions\n  state: State\n  init: Init<State, Actions>\n  view: View<State, Actions>\n  subscribe?: Subscribe<State, Actions>\n  onRender?: ((view: any) => RenderReturn)\n  onUpdate?: OnUpdate<State, Actions>\n  onUpdateStart?: OnUpdateStart<State, Actions>\n  /** Patch a component in runtime, used for code-splitting */\n  patch: Patch\n  render(state?: State): RenderReturn\n}\nexport type App<State, Actions> = (props: AppProps<State, Actions>) => Context<State, Actions, any>\nexport type Enhancer<S, A> = (app: App<S, A>) => App<S, A>\n\nfunction isInitObj<S, A>(res: ReturnType<Init<S, A>>): res is InitObj<S, A> {\n  const keys = Object.keys(res).join('|')\n  return keys === 'state' || keys === 'state|cmd'\n}\n\nexport function normalizeInit<S, A>(initResult: ReturnType<Init<S, A>>): Required<InitObj<S, A>> {\n  if (initResult instanceof Array) {\n    return {\n      state: initResult[0],\n      cmd: initResult[1]\n    }\n  }\n  if (isInitObj(initResult)) {\n    return {\n      state: initResult.state,\n      cmd: initResult.cmd || Cmd.none,\n    }\n  }\n  return {\n    state: initResult as S,\n    cmd: Cmd.none\n  }\n}\n\nexport function runCmd<A>(cmd: CmdType<A>, actions: A) {\n  return cmd.map(sub => sub(actions))\n}\n\nexport function app<State, Actions>(props: AppProps<State, Actions>): Context<State, Actions> {\n  // const appEvents = props.events || {}\n  let appActions = {} as Actions\n  const appSubscribe = props.subscribe || (_ => Cmd.none)\n  const render = props.onRender || noop\n  // const appMiddlewares = props.middlewares || []\n  let { state: appState, cmd } = normalizeInit(props.init())\n  init(appState, appActions, props.actions, [])\n  runCmd(cmd, appActions)\n  appRender(appState)\n  appSubscribe(appState).forEach(sub => sub(appActions))\n\n  const appContext = {\n    // getter should before spread operator,\n    // otherwise it would be copied and becomes normal property\n    get state() {\n      return appState\n    },\n    ...props,\n    actions: appActions,\n    render: appRender,\n    patch<S, A>(path: string, comp: Component<S, A>, reuseState = false): Promise<any> {\n      reuseState = reuseState && appState[path]\n      let { state, cmd } = normalizeInit(comp.init())\n      let actions = appActions[path]\n      if (!actions) {\n        actions = appActions[path] = {}\n        init(state, actions, comp.actions as any, [path])\n      }\n      if (!reuseState) {\n        appState = setDeep([path], state, appState)\n      }\n      appState = setDeep(['lazyComps', path], comp, appState)\n      appRender(appState)\n      return reuseState\n        ? Promise.resolve()\n        : Promise.all(runCmd(cmd, actions))\n    }\n  }\n\n  return appContext\n\n  function appRender(state = appState) {\n    if (state !== appState) {\n      appState = state\n    }\n    let view = props.view(appState, appActions)\n    if (isFn(view)) {\n      view = view(appActions)\n    }\n    return render(view)\n  }\n\n  function init(\n    state,\n    actions: any,\n    from: ActionsType<State, Actions> | ActionType<any, State, Actions>,\n    path: string[],\n  ) {\n    for (const key in from) {\n      if (/^_/.test(key)) {\n        continue\n      }\n      const subFrom = from[key]\n      if (isFn(subFrom)) {\n        actions[key] = function(...msgData) {\n          state = get(path, appState)\n          // action = appMiddlewares.reduce((action, fn) => fn(action, key, path), action)\n          let nextState = state\n          let nextAppState = appState\n          let cmd = Cmd.none\n          let parentState\n          let parentActions\n          const actionResult = subFrom(...msgData)\n          if (isFn(actionResult) && actionResult.length > 2) {\n            let pLen = path.length - 1\n            parentActions = get(path, appActions, pLen)\n            parentState = get(path, appState, pLen)\n          }\n          [nextState, cmd] = runAction(\n            actionResult,\n            state,\n            actions,\n            parentState,\n            parentActions,\n          )\n\n          if (props.onUpdate) {\n            if (props.mutable) {\n              nextAppState = setDeepMutable(\n                path,\n                state !== nextState\n                  ? set(state, nextState)\n                  : state,\n                appState,\n              )\n            } else {\n              nextAppState = setDeep(path, merge(state, nextState), appState)\n            }\n            props.onUpdate({\n              prevAppState: appState,\n              nextAppState,\n              msgData: subFrom.length ? msgData : [],\n              action: path.join('.') + '.' + key,\n            })\n          }\n          if (props.mutable) {\n            appState = setDeepMutable(\n              path,\n              state !== nextState\n                ? set(state, nextState)\n                : state,\n              appState,\n            )\n            appRender(appState)\n          } else if (nextState !== state) {\n            if (props.onUpdate) {\n              appState = nextAppState\n            } else {\n              appState = setDeep(path, merge(state, nextState), appState)\n            }\n            appRender(appState)\n          }\n          return runCmd(cmd, actions)\n        }\n      } else if (typeof subFrom === 'object' && subFrom) {\n        init(\n          state[key] || (state[key] = {}),\n          (actions[key] = clone(subFrom)),\n          subFrom,\n          path.concat(key),\n        )\n      }\n    }\n  }\n}\n\nexport default app\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 4\n// module chunks = 0 1 2 3 4","import * as Cmd from '../cmd'\nimport { ActionCmdResult, Init, InitObj, normalizeInit } from '../index'\n\nexport type Dt<T extends string, D = null> = {\n  tag: T,\n  data: D\n} & { __tsTag: 'DateType' }\n\n/**\n * ADT Helper for TS\n * e.g.\n * ```ts\n * type Msg =\n * | Dt<'fetchBook', number>\n * | Dt<'updateBook', Book>\n *\n * let msg = dt('fetchBook', 1)\n * switch(msg.tag) {\n *   case 'fetchBook':\n *      //...\n *      break\n *   case 'updateBook':\n *      //...\n *      break\n *   default:\n *      never(msg.tag) // incomplete check from TS\n *      break\n * }\n * ```\n */\nexport function dt<T extends string, D = null>(tag: T, data: D = null as any) {\n  return { tag, data } as Dt<T, D>\n}\n\nexport const never = (f: never) => f\n\nexport const mkInit = <S, A>(state: S, cmd: Cmd.CmdType<A> = Cmd.none): () => ActionCmdResult<S, A> => () => [state, cmd]\n\nexport type Fn1<T1, R> = (a1: T1) => R\n\nexport function compose<T1, T2, R>(\n  fn1: Fn1<T1, T2>,\n  fn2: Fn1<T2, R>,\n): Fn1<T1, R>\nexport function compose<T1, T2, T3, R>(\n  fn1: Fn1<T1, T2>,\n  fn2: Fn1<T2, T3>,\n  fn3: Fn1<T3, R>,\n): Fn1<T1, R>\nexport function compose<T1, T2, T3, T4, R>(\n  fn1: Fn1<T1, T2>,\n  fn2: Fn1<T2, T3>,\n  fn3: Fn1<T3, T4>,\n  fn4: Fn1<T4, R>,\n): Fn1<T1, R>\nexport function compose<T1, T2, T3, T4, T5, R>(\n  fn1: Fn1<T1, T2>,\n  fn2: Fn1<T2, T3>,\n  fn3: Fn1<T3, T4>,\n  fn4: Fn1<T4, T5>,\n  fn5: Fn1<T5, R>,\n): Fn1<T1, R>\nexport function compose<T1, T2, T3, T4, T5, T6, R>(\n  fn1: Fn1<T1, T2>,\n  fn2: Fn1<T2, T3>,\n  fn3: Fn1<T3, T4>,\n  fn4: Fn1<T4, T5>,\n  fn5: Fn1<T5, T6>,\n  fn6: Fn1<T6, R>,\n): Fn1<T1, R>\nexport function compose<T1, T2, T3, T4, T5, T6, T7, R>(\n  fn1: Fn1<T1, T2>,\n  fn2: Fn1<T2, T3>,\n  fn3: Fn1<T3, T4>,\n  fn4: Fn1<T4, T5>,\n  fn5: Fn1<T5, T6>,\n  fn6: Fn1<T6, T7>,\n  fn7: Fn1<T7, R>,\n): Fn1<T1, R>\nexport function compose<T1, T2, T3, T4, T5, T6, T7, T8, R>(\n  fn1: Fn1<T1, T2>,\n  fn2: Fn1<T2, T3>,\n  fn3: Fn1<T3, T4>,\n  fn4: Fn1<T4, T5>,\n  fn5: Fn1<T5, T6>,\n  fn6: Fn1<T6, T7>,\n  fn7: Fn1<T7, T8>,\n  fn8: Fn1<T8, R>,\n): Fn1<T1, R>\nexport function compose<T1, T2, T3, T4, T5, T6, T7, T8, T9, R>(\n  fn1: Fn1<T1, T2>,\n  fn2: Fn1<T2, T3>,\n  fn3: Fn1<T3, T4>,\n  fn4: Fn1<T4, T5>,\n  fn5: Fn1<T5, T6>,\n  fn6: Fn1<T6, T7>,\n  fn7: Fn1<T7, T8>,\n  fn8: Fn1<T8, T9>,\n  fn9: Fn1<T9, R>,\n): Fn1<T1, R>\nexport function compose<R>(...fns: Function[]): Fn1<any, R> {\n  return arg =>\n    fns.reduce(\n      (arg, fn) => fn(arg),\n      arg,\n    )\n}\n\nexport function combineInit<T extends { [k: string]: InitObj<any, any> }, A extends { [k: string]: any }>(arg: T) {\n  let state = {} as { [k in keyof T]: T[k]['state'] }\n  let cmd = Cmd.none as Cmd.CmdType<A>\n  for (const key in arg) {\n    let init = normalizeInit<any, any>(arg[key])\n    state[key] = init.state\n    cmd = Cmd.batch(cmd, Cmd.map(_ => _[key], init.cmd))\n  }\n  return { state, cmd }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/index.ts"],"sourceRoot":""}